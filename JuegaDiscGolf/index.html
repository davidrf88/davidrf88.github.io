<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disc Golf M√©xico - Mapa Interactivo</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Vue.js 3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    
    <!-- Google Maps JavaScript API -->
        <script async defer src="https://maps.googleapis.com/maps/api/js?callback=initMap"></script>
    <script>
        // Funci√≥n global para inicializar el mapa - ser√° llamada por la API de Google Maps
        function initMap() {
            // Esta funci√≥n ser√° sobrescrita por el componente Vue cuando est√© listo
            console.log('Google Maps API loaded');
        }
    </script>
    
    <style>
        .state-path {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .state-path:hover {
            opacity: 0.8;
            transform: scale(1.02);
        }
        .state-active {
            fill: #10b981;
        }
        .state-inactive {
            fill: #d1d5db;
        }
        .state-hover {
            stroke: #065f46;
            stroke-width: 2;
        }
        .animate-fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .dropdown-enter {
            animation: dropdownSlide 0.2s ease-out;
        }
        @keyframes dropdownSlide {
            from {
                opacity: 0;
                transform: translateY(-5px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="app">
        <!-- Header -->
        <header class="bg-green-600 text-white shadow-lg">
            <div class="container mx-auto px-4 py-6">
                <h1 class="text-3xl font-bold text-center">Disc Golf M√©xico</h1>
                <p class="text-center mt-2 text-green-100 text-lg">Conectando jugadores, eliminando barreras</p>
                <div class="text-center mt-4 max-w-4xl mx-auto">
                    <p class="text-green-50 text-sm leading-relaxed">
                        <span class="font-semibold">üéØ Nuestra misi√≥n:</span> Promover el disc golf y eliminar las barreras para iniciar. 
                        <span class="font-semibold">Sin costo, sin equipo necesario, sin importar tu nivel.</span> 
                        Un deporte inclusivo para todas las edades en un ambiente amigable y divertido.
                    </p>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="container mx-auto px-4 py-8">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                
                <!-- Map Section -->
                <div class="lg:col-span-2">
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h2 class="text-2xl font-semibold mb-4 text-gray-800">Mapa de Estados</h2>
                        
                        <!-- State Search Dropdown -->
                        <div class="mb-6 relative">
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Buscar estado:
                            </label>
                            <div class="relative">
                                <input
                                    v-model="searchQuery"
                                    @input="filterStates"
                                    @focus="showDropdown = true"
                                    @blur="hideDropdown"
                                    type="text"
                                    placeholder="Escribe el nombre del estado o selecciona en el mapa..."
                                    class="w-full px-4 py-2 pr-20 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition-all"
                                >
                                <!-- Clear Button -->
                                <button v-if="searchQuery" 
                                        @click="clearSearch"
                                        class="absolute right-10 top-2.5 w-5 h-5 text-gray-400 hover:text-gray-600 transition-colors">
                                    <svg fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                                    </svg>
                                </button>
                                <!-- Search Icon -->
                                <svg class="absolute right-3 top-2.5 w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                                </svg>
                            </div>
                            
                            <!-- Dropdown List -->
                            <div v-if="showDropdown && filteredStates.length > 0" 
                                 class="absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto dropdown-enter">
                                <div v-for="state in filteredStates" :key="state.id"
                                     @mousedown="selectStateFromDropdown(state)"
                                     class="px-4 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0">
                                    <div class="flex items-center justify-between">
                                        <span class="text-gray-800">{{ state.name }}</span>
                                        <div class="flex items-center">
                                            <span v-if="discGolfStates[state.id]" class="inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800">
                                                <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                                </svg>
                                                {{ discGolfStates[state.id].parks.length }} parque(s)
                                            </span>
                                            <span v-else class="inline-flex items-center px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-600">
                                                Sin info
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <p class="text-gray-600 mb-6">Haz clic en los estados verdes para ver informaci√≥n sobre disc golf</p>
                        
                        <!-- Google Maps -->
                        <div class="w-full">
                            <div id="map" class="w-full h-[500px] border border-gray-200 rounded"></div>
                        </div>
                        
                        <!-- Legend -->
                        <div class="mt-6 flex flex-wrap gap-4 text-sm">
                            <div class="flex items-center">
                                <div class="w-4 h-4 bg-green-500 rounded mr-2"></div>
                                <span>Estados con parques y anfitriones</span>
                            </div>
                            <div class="flex items-center">
                                <div class="w-4 h-4 bg-gray-300 rounded mr-2"></div>
                                <span>Sin anfitriones registrados</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Details Panel -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-xl font-semibold mb-4 text-gray-800">Informaci√≥n del Estado</h3>
                        
                        <!-- Default State -->
                        <div v-if="!selectedState" class="text-center">
                            <div class="mb-6">
                                <div class="text-6xl mb-4">ü•è</div>
                                <h4 class="text-xl font-bold text-green-600 mb-3">¬°Bienvenido a Disc Golf M√©xico!</h4>
                            </div>
                            
                            <div class="text-left space-y-4 bg-green-50 p-4 rounded-lg">
                                <h5 class="font-semibold text-green-700 text-center mb-3">¬øPor qu√© disc golf?</h5>
                                
                                <div class="space-y-3 text-sm text-gray-700">
                                    <div class="flex items-start">
                                        <span class="text-green-500 mr-2">üéØ</span>
                                        <span><strong>F√°cil de empezar:</strong> No necesitas experiencia previa ni ser deportista</span>
                                    </div>
                                    
                                    <div class="flex items-start">
                                        <span class="text-green-500 mr-2">üí∞</span>
                                        <span><strong>Sin costo:</strong> Los anfitriones te prestan discos y te ense√±an gratis</span>
                                    </div>
                                    
                                    <div class="flex items-start">
                                        <span class="text-green-500 mr-2">üë•</span>
                                        <span><strong>Para todos:</strong> Inclusivo para todas las edades y niveles</span>
                                    </div>
                                    
                                    <div class="flex items-start">
                                        <span class="text-green-500 mr-2">üåü</span>
                                        <span><strong>Ambiente amigable:</strong> Comunidad s√∫per acogedora y divertida</span>
                                    </div>
                                    
                                    <div class="flex items-start">
                                        <span class="text-green-500 mr-2">üèûÔ∏è</span>
                                        <span><strong>En la naturaleza:</strong> Disfruta parques y espacios al aire libre</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-6 p-3 bg-blue-50 rounded-lg">
                                <p class="text-sm text-blue-800">
                                    <strong>üëà Selecciona un estado en el mapa</strong> para encontrar parques y anfitriones cerca de ti
                                </p>
                            </div>
                        </div>
                        
                        <!-- Selected State Info -->
                        <div v-if="selectedState && selectedStateInfo">
                            <h4 class="text-lg font-bold text-green-600 mb-3">{{ selectedStateInfo.name }}</h4>
                            
                            <!-- Parks Count -->
                            <div class="mb-4 p-3 bg-green-50 rounded-lg">
                                <div class="flex items-center">
                                    <svg class="w-5 h-5 text-green-600 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                    </svg>
                                    <span class="font-semibold">{{ selectedStateInfo.parks.length }} parque(s) de disc golf</span>
                                </div>
                            </div>
                            
                            <!-- Parks List -->
                            <div class="space-y-4">
                                <h5 class="font-semibold text-gray-700">Parques disponibles:</h5>
                                <div v-for="park in selectedStateInfo.parks" :key="park.name" 
                                     class="border border-gray-200 rounded-lg p-4">
                                    <!-- Park Info -->
                                    <div class="mb-3">
                                        <div class="flex items-start justify-between mb-2">
                                            <h6 class="font-semibold text-gray-800 text-lg">{{ park.name }}</h6>
                                            <div v-if="park.rating" class="flex items-center bg-yellow-100 px-2 py-1 rounded">
                                                <svg class="w-3 h-3 text-yellow-500 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                                </svg>
                                                <span class="text-xs font-semibold text-yellow-800">{{ park.rating }}</span>
                                            </div>
                                        </div>
                                        
                                        <p class="text-sm text-gray-600 mb-1">üìç {{ park.location }}</p>
                                        <p class="text-sm text-gray-500 mb-2">{{ park.description }}</p>
                                        
                                        <div class="flex flex-wrap gap-2 mb-2">
                                            <span class="inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">
                                                {{ park.type }}
                                            </span>
                                            <span v-if="park.difficulty" class="inline-block px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full">
                                                {{ park.difficulty }}
                                            </span>
                                        </div>
                                    </div>
                                    
                                    <!-- Hosts Section -->
                                    <div class="mt-3 pt-3 border-t border-gray-100">
                                        <!-- Hosts Header - Always Visible -->
                                        <div 
                                            @click="toggleHosts(park.name)" 
                                            class="cursor-pointer hover:bg-gray-50 p-2 rounded-lg transition-colors">
                                            <div class="flex items-center justify-between">
                                                <div class="flex items-center">
                                                    <svg class="w-4 h-4 mr-2 text-green-700" fill="currentColor" viewBox="0 0 20 20">
                                                        <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"/>
                                                    </svg>
                                                    <span class="font-semibold text-green-700 text-sm">
                                                        Ver anfitriones ({{ park.hosts.length }})
                                                    </span>
                                                </div>
                                                <!-- Expand/Collapse Icon -->
                                                <svg 
                                                    :class="{ 'rotate-180': isHostsExpanded(park.name) }"
                                                    class="w-4 h-4 text-green-600 transition-transform duration-200" 
                                                    fill="currentColor" 
                                                    viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                                                </svg>
                                            </div>
                                        </div>
                                        
                                        <!-- Hosts List - Expandible -->
                                        <div v-show="isHostsExpanded(park.name)" class="mt-3 space-y-2 animate-fade-in">
                                            <div v-for="host in park.hosts" :key="host.name" 
                                                 class="bg-gray-50 rounded-lg p-3 border-l-4 border-green-500">
                                                <div class="flex items-start justify-between mb-2">
                                                    <h8 class="font-semibold text-gray-800">{{ host.name }}</h8>
                                                    <span class="text-xs text-green-600 bg-green-100 px-2 py-1 rounded">
                                                        {{ host.experience }}
                                                    </span>
                                                </div>
                                                
                                                <p class="text-xs text-gray-600 mb-2 italic">{{ host.bio }}</p>
                                                
                                                <div class="text-xs text-gray-500 space-y-1">
                                                    <div class="flex items-center">
                                                        <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                                            <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
                                                        </svg>
                                                        <strong>Disponible:</strong> {{ host.availability }}
                                                    </div>
                                                    <div class="flex items-center">
                                                        <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                                            <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                                                            <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
                                                        </svg>
                                                        <strong>Contacto:</strong> 
                                                        <a :href="'mailto:' + host.contact" class="text-blue-600 ml-1 hover:underline">
                                                            {{ host.contact }}
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- No Disc Golf State -->
                        <div v-if="selectedState && !selectedStateInfo" class="text-center text-gray-500">
                            <div class="mb-4">
                                <svg class="mx-auto w-16 h-16 text-gray-300" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z" clip-rule="evenodd" />
                                </svg>
                            </div>
                            <h4 class="text-lg font-bold text-gray-600 mb-2">{{ selectedStateName }}</h4>
                            <div class="mb-4 p-3 bg-gray-50 rounded-lg">
                                <div class="flex items-center justify-center">
                                    <svg class="w-5 h-5 text-gray-400 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z" clip-rule="evenodd" />
                                    </svg>
                                    <span class="font-semibold text-gray-600">Sin informaci√≥n de disc golf</span>
                                </div>
                            </div>
                            <div class="mb-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200">
                                <div class="flex items-center justify-center mb-2">
                                    <svg class="w-5 h-5 text-yellow-600 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
                                    </svg>
                                    <span class="font-semibold text-yellow-800">¬°Oportunidad de crecimiento!</span>
                                </div>
                                <p class="text-sm text-yellow-800">A√∫n no tenemos anfitriones registrados en este estado</p>
                            </div>
                            
                            <div class="text-left space-y-3 bg-blue-50 p-4 rounded-lg">
                                <h5 class="font-semibold text-blue-700 text-center mb-3">¬°S√© el primero en {{ selectedStateName }}!</h5>
                                
                                <div class="space-y-2 text-sm text-blue-800">
                                    <div class="flex items-start">
                                        <span class="text-blue-500 mr-2">üöÄ</span>
                                        <span><strong>Inicia la comunidad:</strong> S√© el pionero del disc golf en tu estado</span>
                                    </div>
                                    
                                    <div class="flex items-start">
                                        <span class="text-blue-500 mr-2">üéØ</span>
                                        <span><strong>Solo necesitas:</strong> Ganas de compartir y hacer amigos</span>
                                    </div>
                                    
                                    <div class="flex items-start">
                                        <span class="text-blue-500 mr-2">üí™</span>
                                        <span><strong>Apoyo total:</strong> Te ayudamos a conseguir discos y organizar</span>
                                    </div>
                                    
                                    <div class="flex items-start">
                                        <span class="text-blue-500 mr-2">üåü</span>
                                        <span><strong>Impacto real:</strong> Crea espacios inclusivos para tu comunidad</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-4 p-3 bg-green-50 rounded-lg">
                                <p class="text-sm text-green-800">
                                    <strong>‚úâÔ∏è ¬øTe interesa ser anfitri√≥n?</strong><br>
                                    Cont√°ctanos para agregar tu estado y ser parte de esta red inclusiva
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-gray-800 text-white py-12 mt-12">
            <div class="container mx-auto px-4">
                <!-- Main Footer Content -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
                    <!-- About Section -->
                    <div>
                        <h3 class="text-xl font-bold mb-4 text-green-400">Disc Golf M√©xico</h3>
                        <p class="text-gray-300 text-sm leading-relaxed">
                            Conectamos personas a trav√©s del disc golf, eliminando barreras y creando 
                            comunidades inclusivas en todo M√©xico. Un deporte para todos, sin importar 
                            edad, experiencia o nivel socioecon√≥mico.
                        </p>
                    </div>
                    
                    <!-- Benefits Section -->
                    <div>
                        <h4 class="text-lg font-semibold mb-4 text-green-400">¬øPor qu√© Disc Golf?</h4>
                        <ul class="space-y-2 text-gray-300 text-sm">
                            <li class="flex items-start">
                                <span class="text-green-400 mr-2">‚Ä¢</span>
                                <span>Deporte inclusivo y accesible</span>
                            </li>
                            <li class="flex items-start">
                                <span class="text-green-400 mr-2">‚Ä¢</span>
                                <span>Ejercicio al aire libre y naturaleza</span>
                            </li>
                            <li class="flex items-start">
                                <span class="text-green-400 mr-2">‚Ä¢</span>
                                <span>Comunidad acogedora y amigable</span>
                            </li>
                            <li class="flex items-start">
                                <span class="text-green-400 mr-2">‚Ä¢</span>
                                <span>Bajo costo de entrada</span>
                            </li>
                            <li class="flex items-start">
                                <span class="text-green-400 mr-2">‚Ä¢</span>
                                <span>Beneficios f√≠sicos y mentales</span>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Mission Section -->
                    <div>
                        <h4 class="text-lg font-semibold mb-4 text-green-400">Nuestra Misi√≥n</h4>
                        <div class="space-y-3 text-gray-300 text-sm">
                            <p>
                                <span class="font-semibold text-white">Eliminar barreras:</span> 
                                Que nadie se quede fuera por falta de equipo o conocimiento
                            </p>
                            <p>
                                <span class="font-semibold text-white">Crear comunidad:</span> 
                                Conectar personas que comparten la pasi√≥n por el deporte
                            </p>
                            <p>
                                <span class="font-semibold text-white">Promover inclusi√≥n:</span> 
                                Un espacio seguro y welcoming para todas las personas
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- Call to Action -->
                <div class="border-t border-gray-700 pt-6 mb-6">
                    <div class="text-center bg-green-900 bg-opacity-50 p-4 rounded-lg">
                        <h4 class="text-lg font-bold text-green-300 mb-2">¬°√önete a la Comunidad!</h4>
                        <p class="text-gray-300 text-sm mb-3">
                            No importa si nunca has jugado disc golf. Nuestros anfitriones te ense√±ar√°n, 
                            te prestar√°n discos y te dar√°n la bienvenida con una sonrisa.
                        </p>
                        <p class="text-green-200 font-semibold text-sm">
                            üéØ El disc golf te est√° esperando - ¬°Solo da el primer paso!
                        </p>
                    </div>
                </div>
                
                <!-- Copyright -->
                <div class="text-center border-t border-gray-700 pt-6">
                    <p class="text-gray-400 text-sm">
                        &copy; 2025 Disc Golf M√©xico. Promoviendo el disc golf inclusivo en todo M√©xico. 
                        <span class="text-green-400">Hecho con ‚ù§Ô∏è para la comunidad</span>
                    </p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    selectedState: null,
                    hoveredState: null,
                    expandedHosts: {}, // Para controlar qu√© secciones de anfitriones est√°n expandidas
                    searchQuery: '', // Para el campo de b√∫squeda
                    showDropdown: false, // Para mostrar/ocultar el dropdown
                    filteredStates: [], // Estados filtrados seg√∫n la b√∫squeda
                    map: null, // Instancia del mapa de Google Maps
                    // All Mexican States - Complete list of 32 states
                    allStates: {
                        'aguascalientes': { name: 'Aguascalientes' },
                        'baja-california': { name: 'Baja California' },
                        'baja-california-sur': { name: 'Baja California Sur' },
                        'campeche': { name: 'Campeche' },
                        'cdmx': { name: 'Ciudad de M√©xico' },
                        'chiapas': { name: 'Chiapas' },
                        'chihuahua': { name: 'Chihuahua' },
                        'coahuila': { name: 'Coahuila' },
                        'colima': { name: 'Colima' },
                        'durango': { name: 'Durango' },
                        'estado-mexico': { name: 'Estado de M√©xico' },
                        'guanajuato': { name: 'Guanajuato' },
                        'guerrero': { name: 'Guerrero' },
                        'hidalgo': { name: 'Hidalgo' },
                        'jalisco': { name: 'Jalisco' },
                        'michoacan': { name: 'Michoac√°n' },
                        'morelos': { name: 'Morelos' },
                        'nayarit': { name: 'Nayarit' },
                        'nuevo-leon': { name: 'Nuevo Le√≥n' },
                        'oaxaca': { name: 'Oaxaca' },
                        'puebla': { name: 'Puebla' },
                        'queretaro': { name: 'Quer√©taro' },
                        'quintana-roo': { name: 'Quintana Roo' },
                        'san-luis-potosi': { name: 'San Luis Potos√≠' },
                        'sinaloa': { name: 'Sinaloa' },
                        'sonora': { name: 'Sonora' },
                        'tabasco': { name: 'Tabasco' },
                        'tamaulipas': { name: 'Tamaulipas' },
                        'tlaxcala': { name: 'Tlaxcala' },
                        'veracruz': { name: 'Veracruz' },
                        'yucatan': { name: 'Yucat√°n' },
                        'zacatecas': { name: 'Zacatecas' }
                    },
                    // States with disc golf parks (Real data from UDisc)
                    discGolfStates: {
                        'jalisco': {
                            name: 'Jalisco',
                            parks: [
                                {
                                    name: 'Los Colomos',
                                    location: 'Guadalajara, Jalisco',
                                    description: 'Parque urbano popular con curso moderado de 1h 19m',
                                    type: 'Parque p√∫blico',
                                    rating: 4.3,
                                    difficulty: 'Moderado',
                                    hosts: [
                                        {
                                            name: 'Carlos Mendoza',
                                            contact: 'carlos.colomos@gmail.com',
                                            experience: '5 a√±os jugando',
                                            availability: 'S√°bados y domingos 8:00 AM',
                                            bio: 'Jugador experimentado en Los Colomos, conozco cada hoyo perfectamente'
                                        },
                                        {
                                            name: 'Mar√≠a Gonz√°lez',
                                            contact: '+52 33 1234-5678',
                                            experience: '3 a√±os jugando',
                                            availability: 'Martes y jueves 5:00 PM',
                                            bio: 'Organizadora del grupo de Facebook "Disc Golf Guadalajara"'
                                        }
                                    ]
                                },
                                {
                                    name: 'Parque CRISTIANIA',
                                    location: 'Chapala, Jalisco',
                                    description: 'Campo dif√≠cil junto al lago con vistas espectaculares (1h 40m)',
                                    type: 'Parque lakeside',
                                    rating: 4.3,
                                    difficulty: 'Dif√≠cil',
                                    hosts: [
                                        {
                                            name: 'Roberto Silva',
                                            contact: 'rob.chapala.dg@hotmail.com',
                                            experience: '7 a√±os jugando',
                                            availability: 'Fines de semana 7:00 AM',
                                            bio: 'Local de Chapala, fundador del campo Cristiania'
                                        },
                                        {
                                            name: 'Sandra Jim√©nez',
                                            contact: '+52 376 765-4321',
                                            experience: '4 a√±os jugando',
                                            availability: 'Domingos por la tarde',
                                            bio: 'Conoce todos los secretos del lago, me encanta recibir visitantes'
                                        }
                                    ]
                                }
                            ]
                        },
                        'nuevo-leon': {
                            name: 'Nuevo Le√≥n',
                            parks: [
                                {
                                    name: 'Rufino Tamayo',
                                    location: 'Garza Garc√≠a, Nuevo Le√≥n',
                                    description: 'Campo #1 en M√©xico, moderado con duraci√≥n estimada de 1h 56m',
                                    type: 'Parque urbano premium',
                                    rating: 4.4,
                                    difficulty: 'Moderado',
                                    hosts: [
                                        {
                                            name: 'Luis Hern√°ndez',
                                            contact: 'luis.rufino.dg@gmail.com',
                                            experience: '6 a√±os jugando',
                                            availability: 'Lunes a viernes despu√©s de 6 PM',
                                            bio: 'Ingeniero y campe√≥n local, siempre dispuesto a compartir t√©cnicas'
                                        },
                                        {
                                            name: 'Ana Patricia Garza',
                                            contact: 'ana.mty.discgolf@outlook.com',
                                            experience: '3 a√±os jugando',
                                            availability: 'S√°bados temprano',
                                            bio: 'Organizadora de torneos en el mejor campo de M√©xico'
                                        }
                                    ]
                                },
                                {
                                    name: 'Montemorelos DiscGolf',
                                    location: 'Montemorelos, Nuevo Le√≥n',
                                    description: 'Campo familiar, f√°cil-moderado con duraci√≥n de 1h 48m',
                                    type: 'Campo familiar',
                                    rating: 4.6,
                                    difficulty: 'F√°cil - Moderado',
                                    hosts: [
                                        {
                                            name: 'Rodrigo Elizondo',
                                            contact: '+52 826 123-4567',
                                            experience: '8 a√±os jugando',
                                            availability: 'Todos los d√≠as',
                                            bio: 'Due√±o del campo, me encanta ense√±ar a familias completas'
                                        }
                                    ]
                                }
                            ]
                        },
                        'estado-mexico': {
                            name: 'Estado de M√©xico',
                            parks: [
                                {
                                    name: 'Naucalli Circuito Israel Negrete "Shine"',
                                    location: 'Naucalpan de Ju√°rez, Estado de M√©xico',
                                    description: 'Campo t√©cnico moderado-dif√≠cil con duraci√≥n de 3h 17m',
                                    type: 'Circuito t√©cnico',
                                    rating: 4.1,
                                    difficulty: 'Moderado - Dif√≠cil',
                                    hosts: [
                                        {
                                            name: 'Miguel √Ångel Torres',
                                            contact: 'miguel.naucalli@gmail.com',
                                            experience: '9 a√±os jugando',
                                            availability: 'Domingos por la ma√±ana',
                                            bio: 'Fundador del circuito, especialista en t√©cnicas avanzadas'
                                        },
                                        {
                                            name: 'Elena Mart√≠nez',
                                            contact: '+52 55 9876-5432',
                                            experience: '4 a√±os jugando',
                                            availability: 'S√°bados por la tarde',
                                            bio: 'Instructora certificada, me especializo en principiantes'
                                        }
                                    ]
                                }
                            ]
                        },
                        'cdmx': {
                            name: 'Ciudad de M√©xico',
                            parks: [
                                {
                                    name: 'Alma Mater',
                                    location: 'Ciudad de M√©xico, CDMX',
                                    description: 'Campo urbano en el coraz√≥n de la capital',
                                    type: 'Parque urbano',
                                    rating: 4.0,
                                    difficulty: 'Moderado',
                                    hosts: [
                                        {
                                            name: 'Fernanda L√≥pez',
                                            contact: 'fer.almamater.dg@gmail.com',
                                            experience: '5 a√±os jugando',
                                            availability: 'S√°bados y domingos 9:00 AM',
                                            bio: 'Profesora de educaci√≥n f√≠sica, fundadora del grupo CDMX Disc Golf'
                                        },
                                        {
                                            name: 'Diego Ram√≠rez',
                                            contact: '+52 55 4567-8901',
                                            experience: '12 a√±os jugando',
                                            availability: 'Cualquier d√≠a despu√©s de 7 PM',
                                            bio: 'Veterano del disc golf en CDMX, tengo discos extra para prestar'
                                        }
                                    ]
                                }
                            ]
                        },
                        'san-luis-potosi': {
                            name: 'San Luis Potos√≠',
                            parks: [
                                {
                                    name: 'Caracara (Tangamanga DGC)',
                                    location: 'San Luis Potos√≠, San Luis Potos√≠',
                                    description: 'Campo esc√©nico moderado-muy dif√≠cil con duraci√≥n de 2h 2m',
                                    type: 'Parque natural',
                                    rating: 4.6,
                                    difficulty: 'Moderado - Muy Dif√≠cil',
                                    hosts: [
                                        {
                                            name: 'Javier Medina',
                                            contact: 'javi.tangamanga@yahoo.com',
                                            experience: '10 a√±os jugando',
                                            availability: 'Fines de semana',
                                            bio: 'Guardaparques y jugador experto, conozco cada √°rbol del Tangamanga'
                                        }
                                    ]
                                },
                                {
                                    name: 'Jaguar (Tangamanga DGC)',
                                    location: 'San Luis Potos√≠, San Luis Potos√≠',
                                    description: 'Campo esc√©nico dif√≠cil con duraci√≥n de 2h 36m',
                                    type: 'Parque natural',
                                    rating: 4.3,
                                    difficulty: 'Dif√≠cil',
                                    hosts: [
                                        {
                                            name: 'Claudia Reyes',
                                            contact: '+52 444 887-6554',
                                            experience: '6 a√±os jugando',
                                            availability: 'Jueves y viernes por la tarde',
                                            bio: 'Bi√≥loga y jugadora, me encanta mostrar la fauna del parque'
                                        }
                                    ]
                                }
                            ]
                        },
                        'queretaro': {
                            name: 'Quer√©taro',
                            parks: [
                                {
                                    name: 'Parque La Queretana',
                                    location: 'Santiago de Quer√©taro, Quer√©taro',
                                    description: 'Campo moderado-dif√≠cil con duraci√≥n de 2h 37m',
                                    type: 'Parque metropolitano',
                                    rating: 4.4,
                                    difficulty: 'Moderado - Dif√≠cil',
                                    hosts: [
                                        {
                                            name: 'Arturo Delgado',
                                            contact: 'arturo.queretana@gmail.com',
                                            experience: '7 a√±os jugando',
                                            availability: 'S√°bados por la ma√±ana',
                                            bio: 'Arquitecto del dise√±o del campo, me emociona ense√±ar las rutas'
                                        }
                                    ]
                                }
                            ]
                        },
                        'sonora': {
                            name: 'Sonora',
                            parks: [
                                {
                                    name: 'San Carlos DGC',
                                    location: 'Guaymas, Sonora',
                                    description: 'Campo esc√©nico con vistas al mar, duraci√≥n estimada de 2h 8m',
                                    type: 'Campo costero',
                                    rating: 4.3,
                                    difficulty: 'Moderado',
                                    hosts: [
                                        {
                                            name: 'Ricardo Morales',
                                            contact: 'ricardo.sancarlos@hotmail.com',
                                            experience: '8 a√±os jugando',
                                            availability: 'Temprano por la ma√±ana o al atardecer',
                                            bio: 'Pescador y jugador, conozco los mejores horarios para evitar el calor'
                                        }
                                    ]
                                }
                            ]
                        },
                        'guanajuato': {
                            name: 'Guanajuato',
                            parks: [
                                {
                                    name: 'El Hormiguero - Guanajuato',
                                    location: 'Guanajuato, Guanajuato',
                                    description: 'Campo esc√©nico moderado con duraci√≥n de 2h 18m',
                                    type: 'Parque colonial',
                                    rating: 4.5,
                                    difficulty: 'Moderado',
                                    hosts: [
                                        {
                                            name: 'Sebasti√°n Ruiz',
                                            contact: 'seb.hormiguero@gmail.com',
                                            experience: '5 a√±os jugando',
                                            availability: 'Domingos por la tarde',
                                            bio: 'Estudiante universitario, me gusta jugar despu√©s de estudiar'
                                        }
                                    ]
                                }
                            ]
                        },
                        'morelos': {
                            name: 'Morelos',
                            parks: [
                                {
                                    name: 'Cocoyoc Disc Golf',
                                    location: 'Lomas de Cocoyoc, Morelos',
                                    description: 'Campo esc√©nico moderado-dif√≠cil con duraci√≥n de 3h 6m',
                                    type: 'Resort privado',
                                    rating: 4.7,
                                    difficulty: 'Moderado - Dif√≠cil',
                                    hosts: [
                                        {
                                            name: 'Patricia V√°zquez',
                                            contact: 'paty.cocoyoc@resort.mx',
                                            experience: '4 a√±os jugando',
                                            availability: 'Fines de semana',
                                            bio: 'Coordinadora del resort, organizo torneos y cl√≠nicas'
                                        }
                                    ]
                                }
                            ]
                        }
                    }
                }
            },
            computed: {
                selectedStateInfo() {
                    return this.selectedState ? this.discGolfStates[this.selectedState] : null;
                },
                selectedStateName() {
                    return this.selectedState ? this.allStates[this.selectedState]?.name : null;
                }
            },
            methods: {
                selectState(stateId) {
                    this.selectedState = stateId;
                    // Limpiar expansiones de anfitriones al cambiar de estado
                    this.expandedHosts = {};
                    // Actualizar el campo de b√∫squeda con el nombre del estado seleccionado
                    this.searchQuery = this.allStates[stateId]?.name || '';
                },
                selectStateFromDropdown(state) {
                    this.selectState(state.id);
                    this.showDropdown = false;
                },
                filterStates() {
                    if (!this.searchQuery.trim()) {
                        this.filteredStates = [];
                        this.showDropdown = false;
                        // Si el campo est√° vac√≠o, deseleccionar estado
                        if (this.searchQuery === '') {
                            this.selectedState = null;
                        }
                        return;
                    }
                    
                    const query = this.searchQuery.toLowerCase();
                    this.filteredStates = Object.entries(this.allStates)
                        .map(([id, state]) => ({ id, name: state.name }))
                        .filter(state => state.name.toLowerCase().includes(query))
                        .slice(0, 8); // Limitar a 8 resultados
                    
                    this.showDropdown = this.filteredStates.length > 0;
                },
                hideDropdown() {
                    // Delay para permitir clic en items del dropdown
                    setTimeout(() => {
                        this.showDropdown = false;
                    }, 200);
                },
                clearSearch() {
                    this.searchQuery = '';
                    this.selectedState = null;
                    this.filteredStates = [];
                    this.showDropdown = false;
                    this.expandedHosts = {};
                },
                toggleHosts(parkName) {
                    // Crear una clave √∫nica para cada parque
                    const key = `${this.selectedState}_${parkName}`;
                    this.expandedHosts[key] = !this.expandedHosts[key];
                },
                isHostsExpanded(parkName) {
                    const key = `${this.selectedState}_${parkName}`;
                    return !!this.expandedHosts[key];
                },
                hoverState(stateId) {
                    this.hoveredState = stateId;
                },
                unhoverState() {
                    this.hoveredState = null;
                },
                getStateClass(stateId) {
                    const hasDiscGolf = this.discGolfStates[stateId];
                    const isHovered = this.hoveredState === stateId;
                    
                    let classes = 'state-path ';
                    
                    if (hasDiscGolf) {
                        classes += 'state-active ';
                    } else {
                        classes += 'state-inactive ';
                    }
                    
                    if (isHovered) {
                        classes += 'state-hover ';
                    }
                    
                    return classes;
                },
                initMap() {
                    // Configuraci√≥n del mapa centrado en M√©xico
                    const mexicoCenter = { lat: 23.6345, lng: -102.5528 };
                    
                    // Crear el mapa
                    this.map = new google.maps.Map(document.getElementById('map'), {
                        zoom: 5,
                        center: mexicoCenter,
                        mapTypeId: 'roadmap',
                        styles: [
                            {
                                featureType: 'administrative.country',
                                elementType: 'geometry.stroke',
                                stylers: [{ color: '#2d3748' }, { weight: 2 }]
                            }
                        ]
                    });
                    
                    // Coordenadas aproximadas de los estados con disc golf
                    const stateCoordinates = {
                        'baja-california': { lat: 30.8406, lng: -115.2838 },
                        'chihuahua': { lat: 28.6329, lng: -106.0691 },
                        'nuevo-leon': { lat: 25.5922, lng: -99.9962 },
                        'jalisco': { lat: 20.6767, lng: -103.3475 },
                        'queretaro': { lat: 20.5888, lng: -100.3899 },
                        'cdmx': { lat: 19.4326, lng: -99.1332 },
                        'estado-mexico': { lat: 19.3554, lng: -99.6563 },
                        'yucatan': { lat: 20.7099, lng: -89.0943 },
                        'quintana-roo': { lat: 19.1817, lng: -87.4653 }
                    };
                    
                    // Crear marcadores para los estados con disc golf
                    Object.entries(this.discGolfStates).forEach(([stateId, stateData]) => {
                        const coords = stateCoordinates[stateId];
                        if (coords) {
                            const marker = new google.maps.Marker({
                                position: coords,
                                map: this.map,
                                title: this.allStates[stateId]?.name,
                                icon: {
                                    url: 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(`
                                        <svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg">
                                            <circle cx="15" cy="15" r="12" fill="#10b981" stroke="#065f46" stroke-width="2"/>
                                            <circle cx="15" cy="15" r="6" fill="#ffffff"/>
                                            <text x="15" y="19" text-anchor="middle" fill="#065f46" font-size="8" font-weight="bold">DG</text>
                                        </svg>
                                    `),
                                    scaledSize: new google.maps.Size(30, 30),
                                    anchor: new google.maps.Point(15, 15)
                                }
                            });
                            
                            // Agregar evento click al marcador
                            marker.addListener('click', () => {
                                this.selectState(stateId);
                            });
                        }
                    });
                }
            },
            mounted() {
                // Inicializar el mapa cuando el componente est√© montado
                const self = this;
                window.initMap = function() {
                    self.initMap();
                };
                
                // Si Google Maps ya est√° cargado, inicializar inmediatamente
                if (window.google && window.google.maps) {
                    this.$nextTick(() => {
                        this.initMap();
                    });
                }
            }
        }).mount('#app');
    </script>
</body>
</html>
